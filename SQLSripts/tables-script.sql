CREATE TABLE "C##SERGEI"."USERS" 
   (	"USER_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL ENABLE, 
	"USER_NAME" NVARCHAR2(100), 
	"USER_SURNAME" NVARCHAR2(100), 
	"USER_EMAIL" NVARCHAR2(50) NOT NULL ENABLE, 
	"USER_PASSWORD" NVARCHAR2(100), 
	 CONSTRAINT "USERS_PK" PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "SYSTEM"  ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "SYSTEM" ;
  
  ALTER TABLE USERS
ADD CONSTRAINT USER_EMAIL_UK UNIQUE 
(
  USER_EMAIL 
)
ENABLE;




CREATE TABLE "C##SERGEI"."APARTMENT_TYPES" 
   (	"APARTMENT_TYPE_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL ENABLE, 
	"APARTMENT_TYPE_TITLE" VARCHAR2(100) NOT NULL ENABLE, 
	 CONSTRAINT "APARTMENT_TYPES_PK" PRIMARY KEY ("APARTMENT_TYPE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "SYSTEM"  ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "SYSTEM" ;
  
  
  ALTER TABLE APARTMENT_TYPES
ADD CONSTRAINT APARTMENT_TYPE_TITLE_UK UNIQUE 
(
  APARTMENT_TYPE_TITLE 
)
ENABLE;




CREATE TABLE "C##SERGEI"."CITIES" 
   (	"CITY_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL ENABLE, 
	"CITY_NAME" VARCHAR2(100) NOT NULL ENABLE, 
	 CONSTRAINT "CITIES_PK" PRIMARY KEY ("CITY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "SYSTEM"  ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "SYSTEM" ;
  
  
   ALTER TABLE CITIES
ADD CONSTRAINT CITIES_UK UNIQUE 
(
  CITIES 
)
ENABLE;




CREATE TABLE "C##SERGEI"."APARTMENTS" 
   (	"AP_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL ENABLE,
	"AP_NAME" VARCHAR2(100),   
	"AP_DESCRIPTION" VARCHAR2(200), 
	"AP_GUEST_COUNT" NUMBER, 
	"AP_COST_PER_DAY" NUMBER, 
	"AP_APARTMENT_TYPE_ID" NUMBER, 
	"AP_CITY_ID" NUMBER, 
	 CONSTRAINT "APARTMENTS_PK" PRIMARY KEY ("AP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "APARTMENTS_APARTMENT_TYPE_FK1" FOREIGN KEY ("AP_APARTMENT_TYPE_ID")
	  REFERENCES "C##SERGEI"."APARTMENT_TYPES" ("APARTMENT_TYPE_ID") ENABLE, 
	 CONSTRAINT "APARTMENTS_CITIES_FK1" FOREIGN KEY ("AP_CITY_ID")
	  REFERENCES "C##SERGEI"."CITIES" ("CITY_ID") ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "SYSTEM" ;
  
  
  
  CREATE TABLE "C##SERGEI"."APPLICATIONS" 
   (	"APPL_ID" NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL ENABLE, 
	"APPL_USER_ID" NUMBER, 
	"APPL_APARTMENT_ID" NUMBER, 
	"APPL_TOTAL_COST" NUMBER, 
	"APPL_CHECK_IN_DATE" DATE, 
	"APPL_CHECK_OUT_DATE" DATE, 
	 CONSTRAINT "APPLICATIONS_PK" PRIMARY KEY ("APPL_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "APPLICATIONS_APARTMENTS_FK1" FOREIGN KEY ("APPL_APARTMENT_ID")
	  REFERENCES "C##SERGEI"."APARTMENTS" ("AP_ID") ENABLE, 
	 CONSTRAINT "APPLICATIONS_USERS_FK1" FOREIGN KEY ("APPL_USER_ID")
	  REFERENCES "C##SERGEI"."USERS" ("USER_ID") ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "SYSTEM" ;
